# Terminalyzer
**Terminalyzer** – это подмодуль для обработки консольных параметров с автоматическим преобразованием типов, поддерживающий генерацию помощи.

Выделяется три типа параметров:
* _**Аргумент**_ – выполняет роль значения, чувствительного к порядку объявления. Поддерживает преобразование типов.
* _**Флаг**_ – выполняет роль логического переключателя. По умолчанию: _**-flag**_.
* _**Ключ**_ – выполняет роль идентификатора переменной. Если значение содержит пробельные символы или амперсант, его необходимо заключить в кавычки `"`. Поддерживает преобразование типов.

Метод анализа Terminalyzer заключается в блокировке уже спаршенных параметров в следующем порядке: флаги, ключи, аргументы. При этом приоритет отдаётся позициям, а аргументы распределяются в конце по остаточному принципу. Таким образом, всё, что не является флагом или ключём, считается аргументом.

Параметр может являться важным. В таком случае обработчик будет требовать его обязательного наличия.

Для группировки взаимоисключающих параметров предоставляются позиции – именованные контейнеры, к которым можно применять описания. Аргументы, флаги и ключи, добавленные на одну позицию, не могут быть объявлены в параметрах одновременно.

Параметры можно прикреплять к самой команде, не создавая дополнительных позиций, так как внутри команды используется базовая неименованная позиция, отображающаяся в помощи специальным образом. Базовая позиция может быть только одна.

## Преобразование типов
Для включения преобразования строкового типа данных в иной необходимо при генерации аргумента или ключа задать ему тип параметра из следующего списка:
* **All** – любое значение;
* **Bool** – логическое значение;
* **Date** – дата;
* **Number** – целое отрицательное или положительное число, а также ноль;
* **ValidPath** – существующий в файловой системе путь;
* **Text** – только буквенные символы.
* **URL** – ссылка на WEB-ресурс (при этом проверяется только её формат, а не доступность ресурса).

## Пример использования
```Python
from dublib.CLI.Terminalyzer import Command, HelperLabelsIndexes, ParametersTypes, Terminalyzer

# Список описаний обрабатываемых команд.
CommandsList = list()

# Создание объекта команды с названием method, неким описанием и отнесение её к категории.
Com = Command("method", description = "Some method.", category = "Example")
# Создание обязательной позиции.
ComPos = Com.create_position(important = True, name = "FILENAME", description = "Some position.")
# Добавление на позицию аргумента с типом валидного пути.
ComPos.add_argument(ParametersTypes.ValidPath)
# Добавление на позицию флага.
ComPos.add_flag("f")
# Добавление в команду ключа с типом даты.
Com.base.add_key("key", ParametersTypes.Date)
# Добавление описания команды в список.
CommandsList.append(Com)

# Инициализация обработчика консольных аргументов.
Analyzer = Terminalyzer()
# Установка индикаторов флагов и ключей (указаны стандартные).
Analyzer.set_flags_indicator("-")
Analyzer.set_keys_indicator("--")
# Включение модуля генерации помощи.
Analyzer.helper.enable()
# Включение сортировки команд в алфавитном порядке.
Analyzer.helper.enable_sorting()
# Удаление стандартного уведомления о важности параметров.
Analyzer.helper.labels[HelperLabelsIndexes.IMPORTANT_NOTE] = ""
# Проверка команд.
ParsedCommandData = Analyzer.check_commands(CommandsList)
# Вывод спаршенных данных.
print(ParsedCommandData)

# Если не удалось определить команду.
if ParsedCommandData == None:
	# Обработка неподдерживаемой команды.
	pass

else:

	# Обработка команды: method.
	if "method" == ParsedCommandData.name:

		# Если активирован флаг "f".
		if ParsedCommandData.check_flag("f"):
			# Выполнение неких действий.
			pass

		# Если активирован ключ "key".
		if ParsedCommandData.check_key("key"):
			# Осуществление доступа к значению ключа.
			ParsedCommandData.get_key_value("key")

		# Осуществление доступа к списку аргументов (в порядке их добавления к параметрам команды).
		ParsedCommandData.arguments[0]

# Консольный ввод: python main.py method -f --key 1970-01-01
# >> {'name': 'method', 'flags': ['f'], 'keys': {'key': datetime.date(1970, 1, 1)}, 'arguments': []}
```